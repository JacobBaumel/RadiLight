<div id="nums"></div>

<label for="ip">IP: </label>
<input type="text" id="ip" name="ip"/>
<button id="ipsend">Change IP</button>

<label for="RLForward">RL Forward: </label>
<input type="number" id="RLForward" name="RLForward"/>
<button id="RLForward">Submit</button>

<label for="RLRight">RL Right: </label>
<input type="number" id="RLRight" name="RLRight"/>
<button id="RLRight">Submit</button>

<label for="RLUp">RL Up: </label>
<input type="number" id="RLUp" name="RLUp"/>
<button id="RLUp">Submit</button>

<label for="RLPitch">RL Pitch: </label>
<input type="number" id="RLPitch" name="RLPitch"/>
<button id="RLPitch">Submit</button>

<label for="RLYaw">RL Yaw: </label>
<input type="number" id="RLYaw" name="RLYaw"/>
<button id="RLYaw">Submit</button>

<label for="RLRoll">RL Roll: </label>
<input type="number" id="RLRoll" name="RLRoll"/>
<button id="RLRoll">Submit</button>


<script type="module">
  const $nums = document.getElementById('nums')
  const ws = new WebSocket(`ws://${location.host}/ws`)

  ws.onmessage = msg => {
    const nums = JSON.parse(msg.data)
    $nums.innerText = JSON.stringify(nums, null, 2)
  }

  document.getElementById('ipsend').onclick = () => {
    ws.send(document.getElementById("ip").value)
    document.getElementById("ip").value = ""
  }

  document.getElementById('RLForward').onclick = () => {
    ws.send(document.getElementById("RLForward").value)
  }

  document.getElementById('RLRight').onclick = () => {
    ws.send(document.getElementById("RLRight").value)
  }

  document.getElementById('RLUp').onclick = () => {
    ws.send(document.getElementById("RLUp").value)
  }

  document.getElementById('RLPitch').onclick = () => {
    ws.send(document.getElementById("RLPitch").value)
  }

  document.getElementById('RLYaw').onclick = () => {
    ws.send(document.getElementById("RLYaw").value)
  }

  document.getElementById('RLRoll').onclick = () => {
    ws.send(document.getElementById("RLRoll").value)
  }
</script>